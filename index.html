<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Friendship Memory</title>

<style>
body{
  font-family: Arial;
  background:white;
  color:black;
  text-align:center;
  margin:0;
}

#mainContent{ display:none; }

.menu{
  display:none;
  background:#eee;
  padding:20px;
}

.menu button{
  display:block;
  width:220px;
  margin:10px auto;
  padding:10px;
  font-size:16px;
}

.section{
  display:none;
  padding:30px;
}

img{
  width:200px;
  margin:10px;
  border-radius:10px;
  cursor:pointer;
}

.hamburger{
  font-size:30px;
  cursor:pointer;
  margin:20px;
}

input{
  padding:10px;
  width:60%;
  font-size:16px;
}
</style>
</head>

<body>

<!-- LOGIN -->
<div id="login">
  <h2>Enter Password</h2>
  <input type="password" id="mainPass">
  <br><br>
  <button onclick="checkMain()">Enter</button>
</div>

<!-- MAIN -->
<div id="mainContent">

<div class="hamburger" onclick="toggleMenu()">‚ò∞ Menu</div>

<div class="menu" id="menu">
  <button onclick="openSection('first')">First Day</button>
  <button onclick="openSection('monkeys')">3 Monkeys</button>
  <button onclick="openProtected('bindu','111')">Bindu</button>
  <button onclick="openProtected('appu','222')">Appu</button>
  <button onclick="openProtected('reddy','333')">Reddy</button>
  <button onclick="openSection('trips')">Trips</button>
  <button onclick="openSection('videos')">Videos</button>
  <button onclick="openSection('questions')">Questions</button>
  <button onclick="openResponses()">Responses üîí</button>
</div>

<!-- NORMAL SECTIONS -->
<div id="first" class="section"><h2>First Day</h2></div>
<div id="monkeys" class="section"><h2>3 Monkeys</h2></div>
<div id="bindu" class="section"><h2>Bindu</h2></div>
<div id="appu" class="section"><h2>Appu</h2></div>
<div id="reddy" class="section"><h2>Reddy</h2></div>
<div id="trips" class="section"><h2>Trips</h2></div>
<div id="videos" class="section"><h2>Videos</h2></div>

<!-- QUESTIONS -->
<div id="questions" class="section">

<h2 id="qText"></h2>

<input id="ansInput" placeholder="Type your answer">
<br><br>
<button onclick="nextQ()">Next</button>

<div id="giftArea" style="display:none;">
  <h2>Select gift üéÅ</h2>
  <img src="chocolate.jpg" onclick="selectGift('Chocolate')">
  <img src="watch.jpg" onclick="selectGift('Watch')">
  <img src="frame.jpg" onclick="selectGift('Photo Frame')">
  <img src="surprise.jpg" onclick="selectGift('Surprise Box')">
</div>

<div id="finalMsg" style="display:none;">
  <h2>Thank you ‚ù§Ô∏è</h2>
</div>

</div>

<!-- RESPONSES -->
<div id="responses" class="section">
  <h2>All Responses</h2>
  <div id="respData"></div>
  <br>
  <button onclick="clearData()">Clear Old Data</button>
</div>

</div>

<script>

// LOGIN
function checkMain(){
  let p=document.getElementById("mainPass").value;
  if(p==="friend123"){
    document.getElementById("login").style.display="none";
    document.getElementById("mainContent").style.display="block";
  }else alert("Wrong password");
}

// MENU
function toggleMenu(){
  let m=document.getElementById("menu");
  m.style.display = (m.style.display==="block") ? "none":"block";
}

// OPEN SECTION
function openSection(id){
  hideAll();
  document.getElementById(id).style.display="block";
  document.getElementById("menu").style.display="none";

  if(id==="questions"){
    startQuestions();
  }
}

// PROTECTED
function openProtected(id,pass){
  let p=prompt("Enter password");
  if(p===pass){
    openSection(id);
  }else alert("Wrong password");
}

// HIDE ALL
function hideAll(){
  let s=document.getElementsByClassName("section");
  for(let i=0;i<s.length;i++) s[i].style.display="none";
}

// QUESTIONS DATA
let questionsList=[
"Why am I your best friend?",
"One thing you never want to lose in our friendship?",
"If we fight, who will say sorry first?",
"What is your favorite memory with me?",
"How important am I in your life?",
"In tough times, did I support you well?",
"When did you feel I was a true friend?",
"Who gets angry fast?",
"Eppudaina anipinchinda naa friendship waste ani?"
];

let qIndex=0;
let answers=[];

function startQuestions(){
  qIndex=0;
  answers=[];
  document.getElementById("giftArea").style.display="none";
  document.getElementById("finalMsg").style.display="none";
  document.getElementById("ansInput").style.display="inline-block";
  loadQuestion();
}

function loadQuestion(){
  if(qIndex < questionsList.length){
    document.getElementById("qText").innerText=questionsList[qIndex];
    document.getElementById("ansInput").value="";
  }else{
    document.getElementById("qText").innerText="Choose a gift";
    document.getElementById("ansInput").style.display="none";
    document.getElementById("giftArea").style.display="block";
  }
}

function nextQ(){
  let ans=document.getElementById("ansInput").value;
  if(ans===""){ alert("Type answer"); return; }

  answers.push(questionsList[qIndex]+" : "+ans);
  qIndex++;
  loadQuestion();
}

function selectGift(g){

  // store answers
  answers.push("Selected Gift : "+g);
  localStorage.setItem("friendResponses", JSON.stringify(answers));

  // hide question UI completely
  document.getElementById("qText").style.display="none";
  document.getElementById("ansInput").style.display="none";
  document.querySelector("#questions button").style.display="none";
  document.getElementById("giftArea").style.display="none";

  // show only gift
  document.getElementById("finalMsg").style.display="block";
  document.getElementById("finalMsg").innerHTML =
  "<h2>This is your gift üéÅ</h2><h1>"+g+"</h1>";

  // after 4 sec ‚Üí clear screen but KEEP menu only
  setTimeout(()=>{
    hideAll();                 // hide sections
    document.getElementById("finalMsg").style.display="none";
    // menu stays hidden until user clicks ‚ò∞
    window.scrollTo(0,0);
  },4000);
}

// RESPONSES
function openResponses(){
  let p=prompt("Enter password");
  if(p!=="999"){ alert("Wrong password"); return; }

  openSection("responses");

  let data=localStorage.getItem("friendResponses");
  if(!data){
    respData.innerHTML="No responses yet";
    return;
  }

  let arr=JSON.parse(data);
  let html="";
  arr.forEach(a=>{
    html+="<p>"+a+"</p>";
  });

  respData.innerHTML=html;
}

// CLEAR
function clearData(){
  localStorage.removeItem("friendResponses");
  respData.innerHTML="";
  alert("Old data cleared");
}

</script>
</body>
</html>
